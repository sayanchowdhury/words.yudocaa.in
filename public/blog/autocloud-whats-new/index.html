
<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml"  lang="en">

    <head>

        
        <meta charset="UTF-8" />

        
        <meta name="viewport" content="width=device-width, initial-scale=1"/>

                
        <title> 
             Autocloud: What&#39;s new?  
        </title>
        
        
            <link href="https://words.yudocaa.in/index.xml" rel="alternate" type="application/rss+xml" title="Intellectual Web" />
        

        
        <link rel="stylesheet" href="/css/style.css"/>

        
        
        
    </head>

    <body>



<section class="section">
  <div class="container">
    <nav id="nav-main" class="nav">
      <div id="nav-name" class="nav-left">
        <a id="nav-anchor" class="nav-item" href="https://words.yudocaa.in">
          <h1 id="nav-heading" class="title is-4">Intellectual Web</h1>
        </a>
      </div>
      <div class="nav-right">
        
        
        <nav id="nav-items" class="nav-item level is-mobile">
          <a class="level-item" aria-label="about" href='/about'
           rel='noopener'>
            <span class="icon">
              <i class>

<svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="8"></line>
    
  </svg></i>
            </span>
          </a>
          <a class="level-item" aria-label="email" href='mailto:namoskar@yudocaa.in'
           target='_blank'  rel='noopener'>
            <span class="icon">
              <i class>

<svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
    <polyline points="22,6 12,13 2,6"/>
    
  </svg></i>
            </span>
          </a>
          <a class="level-item" aria-label="github" href='https://github.com/sayanchowdhury'
           target='_blank'  rel='noopener'>
            <span class="icon">
              <i class>

<svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
    
  </svg></i>
            </span>
          </a>
          <a class="level-item" aria-label="twitter" href='https://twitter.com/@yudocaa'
           target='_blank'  rel='noopener'>
            <span class="icon">
              <i class>

<svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
    
  </svg></i>
            </span>
          </a>
          <a class="level-item" aria-label="rss" href='/index.xml'
           target='_blank'  rel='noopener'>
            <span class="icon">
              <i class>

<svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>
    
  </svg></i>
            </span>
          </a></nav>
        
      
      </div>
    </nav>

    <nav class="nav">
      

      
    </nav>

  </div>
</section>

<section class="section">
    
    <div class="container">
    
        
            
<div class="subtitle tags is-6 is-pulled-right">
    
        
<a class="subtitle is-6" href="/tags/autocloud/">#autocloud</a>



  
  | <a class="subtitle is-6" href="/tags/fedora/">#fedora</a>
  
  | <a class="subtitle is-6" href="/tags/planet/">#planet</a>
  
  | <a class="subtitle is-6" href="/tags/infra/">#infra</a>
  


    
</div>



<h2 class="subtitle is-6">
    
    
        August 24, 2016 | 17:28
    
</h2>



<h1 class="title">Autocloud: What&#39;s new?</h1>

<div class="content">

    

    
    <p><a href="https://apps.fedoraproject.org/autocloud/">Autocloud</a> was released during the Fedora 23 cycle as a part of the <a href="https://fedoraproject.org/wiki/Changes/Two_Week_Atomic">Two Week
Atomic Process</a>.</p>
<p>Previously, it used to listen to fedmsg for successful Koji builds. Whenever,
there is a new message the AutocloudConsumer queues these message for
processing. The Autocloud job service then listens to the queue, downloads the
images and runs the tests using Tunir. A more detailed post about it&rsquo;s release
can be read <a href="https://kushaldas.in/posts/introducing-autocloud.html">here</a>.</p>
<p>During the Fedora 24 cycle things changed. There was a change on how the Fedora
composes are built. Thanks to adamw for writing a detailed <a href="https://www.happyassassin.net/2016/02/15/pungi-4-the-new-generation-of-the-fedora-compose-tools-and-what-it-means-for-qa/">blogpost</a> on what, why and how things
changed.</p>
<p>With this change now autocloud listens to the compose builds over the fedmsg.
The topic being &ldquo;<a href="apps.fedoraproject.org/datagrepper/raw?topic=org.fedoraproject.prod.pungi.compose.status.change">org.fedoraproject.prod.pungi.compose.status.change</a>&rdquo;. It checks
for the messages with the status FINISHED and FINISHED_INCOMPLETE.</p>
<p>After the filtration, it gets the Cloud Images built during that particular
compose using a tool called fedfind. The job here is parse the metadata of
the compose and getting the Cloud Images. These images are then queued into both libvirt and vbox boxes. The Autocloud job service then downloads the images and run the tests using
Tunir.</p>
<h3 id="changes-in-the-autocloud-fedmsg-messages">Changes in the Autocloud fedmsg messages.</h3>
<p>Earlier the messages with the following topics were sent</p>
<ul>
<li><a href="https://fedora-fedmsg.readthedocs.io/en/latest/topics.html#autocloud-image-queued">autolcoud.image.queued</a> - When the images are queued for testing</li>
<li><a href="https://fedora-fedmsg.readthedocs.io/en/latest/topics.html#autocloud-image-running">autocloud.image.running</a> - When the tests for the images are running</li>
<li><a href="https://fedora-fedmsg.readthedocs.io/en/latest/topics.html#autocloud-image-success">autocloud.image.success</a> - When the tests for the images passes.</li>
<li><a href="https://fedora-fedmsg.readthedocs.io/en/latest/topics.html#autocloud-image-failed">autocloud.image.failed</a> - When the tests for the images failed</li>
</ul>
<p>Now along with the fedmsg message for the status of the image test. Autocloud also
sends messages for the status of a particular compose.</p>
<ul>
<li><a href="https://fedora-fedmsg.readthedocs.io/en/latest/topics.html#autocloud-compose-queued">autocloud.compose.queued</a> - When the composes is in queued state</li>
<li><a href="https://fedora-fedmsg.readthedocs.io/en/latest/topics.html#autocloud-compose-running">autocloud.compose.running</a> - When the images for the composes are in testing
phase</li>
<li><a href="https://fedora-fedmsg.readthedocs.io/en/latest/topics.html#autocloud-compose-complete">autocloud.compose.complete</a> - When running the test for the images for a
compose finishes and contains the aggregate result for the tests</li>
</ul>
<p>The <code>compose_id</code> field was added to the <code>autocloud.image.*</code> messages</p>
<h3 id="changes-in-the-ui">Changes in the UI</h3>
<ul>
<li>A <a href="https://apps.fedoraproject.org/autocloud/compose">page</a> was added to list all the composes. It gives an overview of the
composes like if it&rsquo;s still running, number of tests passed, etc</li>
<li>The <a href="https://apps.fedoraproject.org/autocloud/jobs">jobs page</a> lists all the tests data as earlier. We added filtering to the
page so filter the jobs based on various params</li>
<li>You need to agree that the <a href="https://apps.fedoraproject.org/autocloud/jobs/458/output">jobs output page</a> looks better than before. Now, rather the showing a big dump of text the output now is properly formatted. You can now reference each line separately.</li>
</ul>
<p>Right now, we are planning to work on testing the images uploaded via fedimg in Autocloud. If the project looks interesting and you are planning to contribute? Ping us on #fedora-apps on Freenode.</p>


    
    
        <div class="related">


<h3>Similar articles</h3>

<ul>
	
	<li><a href="/journal/four-weeks-in-fedora/">Four Weeks in Fedora</a></li>
	
	<li><a href="/journal/fedora-meetup-august-2016/">Fedora Meetup Pune August 2016</a></li>
	
	<li><a href="/journal/flock-2016/">Flock 2016</a></li>
	
	<li><a href="/blog/receiving-weechat-notifications-on-mobile-via-pushover/">Receiving Weechat Notifications on mobile via Pushover</a></li>
	
	<li><a href="/journal/fossasia-2016-day-2/">FOSSASIA 2016 - Day 2</a></li>
	
</ul>


</div>
    

</div>


        

    </div>

</section>



<section class="section">
  <div class="container has-text-centered">
    <ul class="nav-footer">
       <li><a href="/blog">Blog</a></li>
       <li><a href="/journal">Journal</a></li>
       <li><a href="/notes">Notes</a></li>
    </ul>
    <p>Â© <a href="https://github.com/sayanchowdhury">Sayan Chowdhury</a> 2021</p>
    
      <p>Powered by <a href="https://gohugo.io/">Hugo</a> &amp; <a href="https://github.com/pavel-pi/kiss-em">Kiss'Em</a>.</p>
    
  </div>
</section>

</body>
</html>

